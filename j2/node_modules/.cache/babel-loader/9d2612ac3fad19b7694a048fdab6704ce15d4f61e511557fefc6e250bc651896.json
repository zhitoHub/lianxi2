{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport dayjs from \"dayjs\";\nimport { getAllmessage, del } from \"@/API/message\";\nexport default {\n  name: \"UserComments\",\n  data() {\n    return {\n      arr: [],\n      flay: []\n    };\n  },\n  methods: {\n    getmsg() {\n      getAllmessage().then(res => {\n        this.arr = res.data;\n        console.log(res.data);\n      });\n    },\n    getrouter(id) {\n      this.$router.push('/msg?id=' + id);\n    },\n    change() {\n      console.log(this.flay);\n    },\n    dels() {\n      del(this.flay).then(res => {\n        if (res.status === 200) {\n          this.$message.success('删除成功!');\n          this.getmsg();\n        }\n      });\n    }\n  },\n  filters: {\n    time(times) {\n      const time = dayjs(times).format('YYYY-MM-DD');\n      return time;\n    }\n  },\n  mounted() {\n    this.getmsg();\n  }\n};","map":{"version":3,"names":["dayjs","getAllmessage","del","name","data","arr","flay","methods","getmsg","then","res","console","log","getrouter","id","$router","push","change","dels","status","$message","success","filters","time","times","format","mounted"],"sources":["src/view/UserComments.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-table\r\n      :data=\"arr\"\r\n      border\r\n      style=\"width: 80%;margin: 20px auto;\"\r\n    >\r\n      <el-table-column\r\n        label=\"留言主题\"\r\n        prop=\"title\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        label=\"留言者\"\r\n        prop=\"tureName\"\r\n\r\n      ></el-table-column>\r\n      <el-table-column\r\n        label=\"留言时间\"\r\n      >\r\n      <template slot-scope=\"scope\">\r\n        <span>{{scope.row.time | time}}</span>\r\n      </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-zoom-in\" @click=\"getrouter(scope.row.id)\"></i>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"删除\">\r\n        <template slot-scope=\"scope\">\r\n          <el-checkbox-group v-model=\"flay\" @change=\"change\">\r\n            <el-checkbox :key=\"scope.row.id\" :label=\"scope.row.id\"></el-checkbox>\r\n          </el-checkbox-group>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-button type=\"danger\" @click=\"dels()\">批量删除</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\nimport {getAllmessage,del} from \"@/API/message\";\r\nexport default {\r\n  name: \"UserComments\",\r\n  data() {\r\n    return {\r\n      arr:[],\r\n      flay:[]\r\n    }\r\n  },\r\n  methods:{\r\n    getmsg(){\r\n      getAllmessage().then(res => {\r\n        this.arr = res.data\r\n        console.log(res.data);\r\n      });\r\n    },\r\n    getrouter(id){\r\n      this.$router.push('/msg?id='+id)\r\n    },\r\n    change(){\r\n      console.log(this.flay)\r\n    },\r\n    dels(){\r\n      del(this.flay).then(res => {\r\n        if(res.status === 200){\r\n          this.$message.success('删除成功!');\r\n          this.getmsg();\r\n        }\r\n      })\r\n    }\r\n  },\r\n  filters:{\r\n    time(times){\r\n      const time = dayjs(times).format('YYYY-MM-DD');\r\n      return time\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getmsg()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":";AA2CA,OAAAA,KAAA;AACA,SAAAC,aAAA,EAAAC,GAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,GAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACAP,aAAA,GAAAQ,IAAA,CAAAC,GAAA;QACA,KAAAL,GAAA,GAAAK,GAAA,CAAAN,IAAA;QACAO,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAN,IAAA;MACA;IACA;IACAS,UAAAC,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,cAAAF,EAAA;IACA;IACAG,OAAA;MACAN,OAAA,CAAAC,GAAA,MAAAN,IAAA;IACA;IACAY,KAAA;MACAhB,GAAA,MAAAI,IAAA,EAAAG,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAS,MAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAb,MAAA;QACA;MACA;IACA;EACA;EACAc,OAAA;IACAC,KAAAC,KAAA;MACA,MAAAD,IAAA,GAAAvB,KAAA,CAAAwB,KAAA,EAAAC,MAAA;MACA,OAAAF,IAAA;IACA;EACA;EACAG,QAAA;IACA,KAAAlB,MAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}